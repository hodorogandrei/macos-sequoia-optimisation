# macOS Server Optimisation - defaults write Configuration
# These settings configure macOS preferences for server operation
#
# Format: DOMAIN|KEY|TYPE|VALUE|DESCRIPTION
# Types: bool, int, float, string, array, dict
# Lines starting with # are comments
#

# ============================================================================
# CRASH REPORTING & DIAGNOSTICS
# ============================================================================
com.apple.CrashReporter|DialogType|string|none|Disable crash reporter dialogs
/Library/Application Support/CrashReporter/DiagnosticMessagesHistory.plist|AutoSubmit|bool|false|Disable diagnostic auto-submit
com.apple.SubmitDiagInfo|AutoSubmit|bool|false|Disable diagnostic submission

# ============================================================================
# SOFTWARE UPDATES (Disable automatic - manual updates preferred on servers)
# ============================================================================
com.apple.SoftwareUpdate|AutomaticCheckEnabled|bool|false|Disable automatic update checks
com.apple.SoftwareUpdate|AutomaticDownload|bool|false|Disable automatic downloads
com.apple.SoftwareUpdate|CriticalUpdateInstall|bool|false|Disable critical update auto-install
com.apple.SoftwareUpdate|ConfigDataInstall|bool|false|Disable config data auto-install
com.apple.SoftwareUpdate|AutomaticallyInstallMacOSUpdates|bool|false|Disable macOS auto-updates
com.apple.commerce|AutoUpdate|bool|false|Disable App Store auto-updates
com.apple.commerce|AutoUpdateRestartRequired|bool|false|Disable auto-restart for updates

# ============================================================================
# SIRI & ASSISTANT (Disabled for server)
# ============================================================================
com.apple.assistant.support|Assistant Enabled|bool|false|Disable Siri
com.apple.Siri|StatusMenuVisible|bool|false|Hide Siri from menu bar
com.apple.Siri|UserHasDeclinedEnable|bool|true|Mark Siri as declined

# ============================================================================
# SPOTLIGHT (Reduce indexing overhead)
# ============================================================================
com.apple.spotlight|orderedItems|array|[]|Minimize Spotlight categories

# ============================================================================
# PERFORMANCE & SYSTEM BEHAVIOUR
# ============================================================================
NSGlobalDomain|NSAppSleepDisabled|bool|true|Disable App Nap globally
NSGlobalDomain|NSDisableAutomaticTermination|bool|true|Prevent auto-termination of apps
NSGlobalDomain|NSScrollAnimationEnabled|bool|false|Disable scroll animations
NSGlobalDomain|NSWindowResizeTime|float|0.001|Faster window resize

# ============================================================================
# FINDER & DESKTOP (Server-friendly settings)
# ============================================================================
com.apple.desktopservices|DSDontWriteNetworkStores|bool|true|No .DS_Store on network volumes
com.apple.desktopservices|DSDontWriteUSBStores|bool|true|No .DS_Store on USB volumes
com.apple.finder|FXEnableExtensionChangeWarning|bool|false|No extension change warnings
com.apple.finder|DisableAllAnimations|bool|true|Disable Finder animations

# ============================================================================
# DOCK (Minimal overhead)
# ============================================================================
com.apple.dock|autohide-delay|float|0|Instant dock hide
com.apple.dock|autohide-time-modifier|float|0|No dock animation
com.apple.dock|launchanim|bool|false|No launch animation
com.apple.dock|expose-animation-duration|float|0.1|Fast Expose

# ============================================================================
# SYSTEM UI (Reduce overhead)
# ============================================================================
com.apple.universalaccess|reduceMotion|bool|true|Reduce motion effects
com.apple.universalaccess|reduceTransparency|bool|true|Reduce transparency effects

# ============================================================================
# NETWORKING
# ============================================================================
com.apple.NetworkBrowser|DisableAirDrop|bool|true|Disable AirDrop
com.apple.NetworkBrowser|BrowseAllInterfaces|bool|false|Limit network browsing

# ============================================================================
# PRINT & SCAN (Not needed on servers)
# ============================================================================
com.apple.print.PrintingPrefs|Quit When Finished|bool|true|Quit print apps when done

# ============================================================================
# SCREENSAVER & SCREEN (Server-appropriate)
# ============================================================================
com.apple.screensaver|askForPassword|int|1|Require password
com.apple.screensaver|askForPasswordDelay|int|0|Immediate password requirement
