# macOS Server Optimisation - Services Configuration
# Format: DOMAIN|SERVICE_NAME|CATEGORY|DESCRIPTION
#
# DOMAIN can be:
#   system   - System-wide daemons (requires sudo)
#   user     - User-level agents (uses $UID)
#   gui      - GUI-level agents (uses $UID)
#
# Categories:
#   telemetry    - Analytics and diagnostic services
#   siri         - Siri and assistant services
#   analysis     - Photo/media analysis services
#   consumer     - Consumer features not needed for servers
#   media        - Media and AirPlay services
#   sharing      - Sharing and handoff services
#   icloud       - iCloud services (CONDITIONAL - prompted)
#   backup       - Backup services (CONDITIONAL - prompted)
#   bluetooth    - Bluetooth services (CONDITIONAL - prompted)
#
# Lines starting with # are comments
# Empty lines are ignored
#

# ============================================================================
# TIER 1: TELEMETRY/ANALYTICS (Always safe to disable)
# ============================================================================
system|com.apple.analyticsd|telemetry|Apple analytics daemon - sends usage data to Apple
system|com.apple.awdd|telemetry|Apple wireless diagnostics daemon
system|com.apple.SubmitDiagInfo|telemetry|Diagnostic submission daemon
system|com.apple.CrashReporterSupportHelper|telemetry|Crash report helper
system|com.apple.ecosystemanalyticsd|telemetry|Cross-device ecosystem analytics
system|com.apple.wifianalyticsd|telemetry|WiFi analytics daemon
system|com.apple.symptomsd-diag|telemetry|Network symptoms diagnostics
system|com.apple.dprivacyd|telemetry|Differential privacy daemon
system|com.apple.appleseed.fbahelperd|telemetry|Feedback Assistant helper

# ============================================================================
# TIER 2: SIRI/ASSISTANT SERVICES (Not needed on servers)
# ============================================================================
gui|com.apple.Siri.agent|siri|Main Siri agent
gui|com.apple.assistantd|siri|Siri assistant daemon
gui|com.apple.assistant_service|siri|Siri service handler
gui|com.apple.parsecd|siri|Siri suggestion parser
gui|com.apple.parsec-fbf|siri|Siri analytics uploader
gui|com.apple.siriknowledged|siri|Siri knowledge daemon
gui|com.apple.sirittsd|siri|Siri text-to-speech
gui|com.apple.siriinferenced|siri|Siri inference engine
gui|com.apple.siriactionsd|siri|Siri actions handler
gui|com.apple.corespeechd|siri|Core speech daemon
gui|com.apple.assistant_cdmd|siri|Siri CoreDuet manager
gui|com.apple.SiriTTSTrainingAgent|siri|Siri TTS training

# ============================================================================
# TIER 3: PHOTO/MEDIA ANALYSIS (High CPU savings)
# ============================================================================
gui|com.apple.photoanalysisd|analysis|Photo library analysis (faces, scenes)
gui|com.apple.mediaanalysisd|analysis|Media analysis daemon
gui|com.apple.photolibraryd|analysis|Photo library daemon
gui|com.apple.knowledge-agent|analysis|Knowledge agent
gui|com.apple.knowledgeconstructiond|analysis|Knowledge construction daemon
gui|com.apple.suggestd|analysis|Suggestions daemon
gui|com.apple.proactived|analysis|Proactive suggestions
gui|com.apple.intelligenceplatformd|analysis|Intelligence platform
gui|com.apple.intelligenceflowd|analysis|Intelligence flow daemon
gui|com.apple.naturallanguaged|analysis|Natural language processing

# ============================================================================
# TIER 4: CONSUMER FEATURES (Not needed on servers)
# ============================================================================
gui|com.apple.gamed|consumer|Game Center daemon
gui|com.apple.ScreenTimeAgent|consumer|Screen Time tracking
gui|com.apple.familycontrols.useragent|consumer|Family controls agent
gui|com.apple.familycircled|consumer|Family circle daemon
gui|com.apple.familynotificationd|consumer|Family notifications
gui|com.apple.askpermissiond|consumer|Ask permission daemon
gui|com.apple.tipsd|consumer|Tips app daemon
gui|com.apple.newsd|consumer|News app daemon
gui|com.apple.weatherd|consumer|Weather daemon
gui|com.apple.Maps.pushdaemon|consumer|Maps push daemon
gui|com.apple.Maps.mapssyncd|consumer|Maps sync daemon
gui|com.apple.maps.destinationd|consumer|Maps destination daemon
gui|com.apple.homeenergyd|consumer|Home energy daemon
gui|com.apple.homed|consumer|HomeKit daemon
gui|com.apple.sportsd|consumer|Sports app daemon
gui|com.apple.watchlistd|consumer|TV app watchlist
gui|com.apple.shazamd|consumer|Shazam daemon
gui|com.apple.financed|consumer|Finance/wallet daemon
gui|com.apple.routined|consumer|Routine learning daemon
gui|com.apple.chronod|consumer|Time-based notifications
gui|com.apple.translationd|consumer|Translation daemon
gui|com.apple.milod|consumer|Machine learning daemon
gui|com.apple.biomesyncd|consumer|Biome sync daemon
gui|com.apple.storeuid|consumer|App Store UI daemon

# ============================================================================
# TIER 5: MEDIA/AIRPLAY SERVICES (Not needed on servers)
# ============================================================================
gui|com.apple.AMPDevicesAgent|media|AirPlay devices agent
gui|com.apple.AMPDeviceDiscoveryAgent|media|AirPlay discovery agent
gui|com.apple.AMPLibraryAgent|media|Music library agent
gui|com.apple.AMPArtworkAgent|media|Artwork fetching agent
gui|com.apple.AMPSystemPlayerAgent|media|System player agent
gui|com.apple.amp.mediasharingd|media|Media sharing daemon
gui|com.apple.itunescloudd|media|iTunes cloud sync
gui|com.apple.mediastream.mstreamd|media|Photo stream daemon
gui|com.apple.rcd|media|Remote control daemon
gui|com.apple.mediaremoteagent|media|Media remote agent
gui|com.apple.videosubscriptionsd|media|Video subscriptions

# ============================================================================
# TIER 6: SHARING/HANDOFF (Not needed on dedicated servers)
# ============================================================================
gui|com.apple.sharingd|sharing|AirDrop and sharing daemon
gui|com.apple.rapportd-user|sharing|Device proximity/handoff
gui|com.apple.AirPlayUIAgent|sharing|AirPlay UI agent
gui|com.apple.companiond|sharing|Companion device daemon
gui|com.apple.sidecar-relay|sharing|Sidecar relay
gui|com.apple.sidecar-hid-relay|sharing|Sidecar HID relay

# ============================================================================
# CONDITIONAL: iCLOUD SERVICES (User prompted - depends on usage)
# ============================================================================
gui|com.apple.cloudd|icloud|Main iCloud sync daemon
gui|com.apple.cloudphotod|icloud|iCloud Photos daemon
gui|com.apple.cloudpaird|icloud|Cloud pairing daemon
gui|com.apple.iCloudUserNotifications|icloud|iCloud notifications
gui|com.apple.icloud.searchpartyuseragent|icloud|Find My network agent
gui|com.apple.iCloudNotificationAgent|icloud|iCloud notification agent
gui|com.apple.icloud.findmydeviced.findmydevice-user-agent|icloud|Find My device agent
gui|com.apple.CloudSettingsSyncAgent|icloud|Cloud settings sync
system|com.apple.cloudd|icloud|System-level iCloud daemon

# ============================================================================
# CONDITIONAL: BACKUP SERVICES (User prompted - depends on backup strategy)
# ============================================================================
system|com.apple.backupd|backup|Time Machine daemon
system|com.apple.backupd-helper|backup|Time Machine helper

# ============================================================================
# CONDITIONAL: BLUETOOTH SERVICES (User prompted - depends on hardware)
# ============================================================================
system|com.apple.bluetoothd|bluetooth|Bluetooth daemon
gui|com.apple.bluetoothuserd|bluetooth|Bluetooth user daemon
gui|com.apple.bluetoothUIServer|bluetooth|Bluetooth UI server
